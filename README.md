# Учебный проект по Kafka

## Задача
Задачей данного проекта является перелив данных из Postgres в Clickhouse при помощи Kafka. Во избежание дублирования отправки данных в таблице в Postgres создан флаг sent_to_kafka, который по дефолту равен FALSE и выставляется на значение TRUE в случае отправки строки из Postgres в Kafka.

## Запуск пайплайна
1. В терминале запускаем контейнер командой docker-compose up -d
2. Запускаем скрипт loader_pg.py для создания и наполнения таблицы user_logins в Postgres
3. В терминале запускаем продюсера командой python producer.py для перелива данных из Postgres в Kafka
4. Открываем еще один терминал и запускаем консьюмера командой python consumer.py, который забирает данные из Kafka и загружает их Clickhouse.
